(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2222],{5248:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return r(7748)}])},7252:function(e,s,r){"use strict";var a=r(5893),n=(r(7294),r(1664)),l=r.n(n);s.Z=function(e){var s=e.pageTitle,r=e.homePageUrl,n=e.homePageText,c=e.activePageText;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"page-title-area",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row align-items-center",children:[(0,a.jsx)("div",{className:"col-lg-6 col-md-7",children:(0,a.jsx)("h2",{children:s})}),(0,a.jsx)("div",{className:"col-lg-6 col-md-5",children:(0,a.jsxs)("ul",{className:"page-title-content",children:[(0,a.jsx)("li",{children:(0,a.jsx)(l(),{href:r,children:(0,a.jsx)("a",{children:n})})}),(0,a.jsx)("li",{children:c})]})})]})})})})}},7748:function(e,s,r){"use strict";r.r(s),r.d(s,{__N_SSP:function(){return P},default:function(){return w}});var a=r(7568),n=r(4924),l=r(6042),c=r(9396),t=r(828),i=r(655),d=r(5893),o=r(7294),u=r(5617),h=r(2286),m=r(6808),x=r.n(m),p=r(9669),j=r.n(p),N=r(1664),v=r.n(N),g=r(8871),f=r(7252),b=r(5245),y=r(7105),_=r(279),k=r(2052),T=r(1163),q=function(e){var s=e.handleCheckout,r=e.name,a=e.price,n=e.disabled,l=(0,T.useRouter)(),c=Number((100*a).toFixed(2));return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(k.Z,{name:r,amount:c,currency:"USD",stripeKey:"...",token:s,triggerEvent:"onClick",closed:function(){l.push("/success")},children:(0,d.jsx)("button",{className:"default-btn",disabled:n,children:"Place Order"})})})},C={name:"",address:"",email:"",phone:""},P=!0,w=function(e){var s=e.user,r=(e.price,(0,o.useState)(C)),m=r[0],p=r[1],N=(0,u.v9)((function(e){return e.productBucket})),k=(0,o.useState)("Browse Category"),T=k[0],P=(k[1],(0,h.parseCookies)().luan_token,(0,o.useState)("")),w=(P[0],P[1],(0,o.useState)(!1)),Z=(w[0],w[1],(0,t.Z)(o.useState(!0),2)),S=Z[0],E=Z[1];o.useEffect((function(){var e=Object.values(m).every((function(e){return Boolean(e)}));E(!e)}),[m]);var O=function(e){var s=e.target,r=s.name,a=s.value;p((function(e){return(0,c.Z)((0,l.Z)({},e),(0,n.Z)({},r,a))}))},F=N.length>0&&N.reduce((function(e,s){return e+s.price*s.quantity}),0),B=function(){var e=(0,a.Z)((function(e){var s,r,a,n,l,c,t,d,o,u,h,p,v;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),s=x().get("luan_token"),m.country,r=m.name,a=m.email,n=m.address,l=m.city,c=m.phone,e.orderItems=N,e.country=T,e.name=r,e.email=a,e.address=n,e.city=l,e.phone=c,e.totalPrice=F,e.stripeTotal=Number((100*F).toFixed(2)),e.productId=N[0].productId,(d={}).paymentData=e,t=d,o="".concat(y.Z,"/api/v1/orders"),(h={}).headers={Authorization:s},u=h,[4,j().post(o,t,u)];case 1:return p=i.sent(),toast.success(p.data),[3,3];case 2:return v=i.sent(),(0,_.Z)(v,window.alert),console.log(v.message),[3,3];case 3:return[2]}}))}));return function(s){return e.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.Z,{user:s}),(0,d.jsx)(f.Z,{pageTitle:"Checkout",homePageUrl:"/",homePageText:"Home",activePageText:"Checkout"}),(0,d.jsx)("div",{className:"checkout-area ptb-100",children:(0,d.jsxs)("div",{className:"container",children:[!s&&(0,d.jsxs)("div",{className:"user-actions",children:[(0,d.jsx)("i",{className:"fas fa-sign-in-alt"})," "," ",(0,d.jsxs)("span",{children:["Returning customer?"," ",(0,d.jsx)(v(),{href:"/authentication",children:(0,d.jsx)("a",{children:"Click here to login"})})]})]}),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-lg-6 col-md-12",children:(0,d.jsxs)("div",{className:"billing-details",children:[(0,d.jsx)("h3",{className:"title",children:"Billing Details"}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-lg-12 col-md-12",children:(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsxs)("label",{children:["Name ",(0,d.jsx)("span",{className:"required",children:"*"})]}),(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Type here...",name:"name",value:m.name,onChange:O,required:!0})]})}),(0,d.jsx)("div",{className:"col-lg-12 col-md-12",children:(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsxs)("label",{children:["Email Address ",(0,d.jsx)("span",{className:"required",children:"*"})]}),(0,d.jsx)("input",{type:"email",className:"form-control",placeholder:"Type here...",name:"email",value:m.email,onChange:O,required:!0})]})}),(0,d.jsx)("div",{className:"col-lg-12 col-md-12",children:(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsxs)("label",{children:["Phone ",(0,d.jsx)("span",{className:"required",children:"*"})]}),(0,d.jsx)("input",{type:"number",className:"form-control",placeholder:"Type here...",name:"phone",value:m.phone,onChange:O,required:!0})]})}),(0,d.jsx)("div",{className:"col-lg-12 col-md-6",children:(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsxs)("label",{children:["Address ",(0,d.jsx)("span",{className:"required",children:"*"})]}),(0,d.jsx)("input",{type:"text",className:"form-control",placeholder:"Type here...",name:"address",value:m.address,onChange:O,required:!0})]})})]})]})}),(0,d.jsx)("div",{className:"col-lg-6 col-md-12",children:(0,d.jsxs)("div",{className:"order-details",children:[(0,d.jsx)("h3",{className:"title",children:"Your Order"}),(0,d.jsx)("div",{className:"order-table table-responsive",children:(0,d.jsxs)("table",{className:"table table-bordered",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{scope:"col",children:"Product Name"}),(0,d.jsx)("th",{scope:"col",children:"Total"})]})}),(0,d.jsxs)("tbody",{children:[N.length>0&&N.map((function(e,s){return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"product-name",children:(0,d.jsx)(v(),{href:"/product/".concat(e.productId),children:(0,d.jsxs)("a",{children:[e.title," : ",e.quantity]})})}),(0,d.jsx)("td",{className:"product-total",children:(0,d.jsxs)("span",{className:"subtotal-amount",children:["$",e.price," x ",e.quantity]})})]},s)})),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"Shipping"}),(0,d.jsx)("td",{children:"Free"})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"total-price",children:(0,d.jsx)("span",{children:"Order Total"})}),(0,d.jsx)("td",{className:"product-subtotal",children:F>0?(0,d.jsxs)("span",{className:"subtotal-amount",children:["$",F]}):(0,d.jsx)("span",{className:"subtotal-amount",children:"$0"})})]})]})]})}),(0,d.jsx)("div",{className:"payment-box",children:(0,d.jsxs)("div",{className:"payment-method",children:[(0,d.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),(0,d.jsx)(q,{handleCheckout:B,name:"Place Order",price:F,disabled:S})]})})]})})]})})]})}),(0,d.jsx)(b.Z,{})]})}},279:function(e,s){"use strict";s.Z=function(e,s){var r;e.response?(r=e.response.data,e.response.data.error&&(r=e.response.data.error.message)):e.request&&(r=e.request),s(r)}}},function(e){e.O(0,[162,4376,2244,9774,2888,179],(function(){return s=5248,e(e.s=s);var s}));var s=e.O();_N_E=s}]);