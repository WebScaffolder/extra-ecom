(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6533],{5266:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/create",function(){return r(9655)}])},7252:function(e,t,r){"use strict";var n=r(5893),a=(r(7294),r(1664)),l=r.n(a);t.Z=function(e){var t=e.pageTitle,r=e.homePageUrl,a=e.homePageText,s=e.activePageText;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"page-title-area",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("div",{className:"row align-items-center",children:[(0,n.jsx)("div",{className:"col-lg-6 col-md-7",children:(0,n.jsx)("h2",{children:t})}),(0,n.jsx)("div",{className:"col-lg-6 col-md-5",children:(0,n.jsxs)("ul",{className:"page-title-content",children:[(0,n.jsx)("li",{children:(0,n.jsx)(l(),{href:r,children:(0,n.jsx)("a",{children:a})})}),(0,n.jsx)("li",{children:s})]})})]})})})})}},638:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6856).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=s.default,l={loading:function(e){e.error,e.isLoading;return e.pastDelay,null}};n(e,Promise)?l.loader=function(){return e}:"function"===typeof e?l.loader=e:"object"===typeof e&&(l=a({},l,e));!1;0;(l=a({},l,t)).loadableGenerated&&delete(l=a({},l,l.loadableGenerated)).loadableGenerated;if("boolean"===typeof l.ssr&&!l.suspense){if(!l.ssr)return delete l.ssr,i(r,l);delete l.ssr}return r(l)},t.noSSR=i;var a=r(6495).Z,l=r(2648).Z,s=(l(r(7294)),l(r(4302)));function i(e,t){return delete t.webpack,delete t.modules,e(t)}("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6319:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var n=(0,r(2648).Z)(r(7294)).default.createContext(null);t.LoadableContext=n},4302:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9658).Z,a=r(7222).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(6495).Z,s=(0,r(2648).Z)(r(7294)),i=r(6319),o=r(7294).useSyncExternalStore,u=[],c=[],d=!1;function f(e){var t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then((function(e){return r.loading=!1,r.loaded=e,e})).catch((function(e){throw r.loading=!1,r.error=e,e})),r}var h=function(){function e(t,r){n(this,e),this._loadFn=t,this._opts=r,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return a(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,r=this._opts;t.loading&&("number"===typeof r.delay&&(0===r.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),r.delay)),"number"===typeof r.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),r.timeout))),this._res.promise.then((function(){e._update({}),e._clearTimeouts()})).catch((function(t){e._update({}),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=l({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function p(e){return function(e,t){var r=function(){if(!u){var t=new h(e,a);u={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return u.promise()},n=function(){r();var e=s.default.useContext(i.LoadableContext);e&&Array.isArray(a.modules)&&a.modules.forEach((function(t){e(t)}))},a=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},t);a.suspense&&(a.lazy=s.default.lazy(a.loader));var u=null;if(!d){var f=a.webpack?a.webpack():a.modules;f&&c.push((function(e){var t=!0,n=!1,a=void 0;try{for(var l,s=f[Symbol.iterator]();!(t=(l=s.next()).done);t=!0){var i=l.value;if(-1!==e.indexOf(i))return r()}}catch(o){n=!0,a=o}finally{try{t||null==s.return||s.return()}finally{if(n)throw a}}}))}var p=a.suspense?function(e,t){return n(),s.default.createElement(a.lazy,l({},e,{ref:t}))}:function(e,t){n();var r=o(u.subscribe,u.getCurrentValue,u.getCurrentValue);return s.default.useImperativeHandle(t,(function(){return{retry:u.retry}}),[]),s.default.useMemo((function(){return r.loading||r.error?s.default.createElement(a.loading,{isLoading:r.loading,pastDelay:r.pastDelay,timedOut:r.timedOut,error:r.error,retry:u.retry}):r.loaded?s.default.createElement((t=r.loaded)&&t.__esModule?t.default:t,e):null;var t}),[e,r])};return p.preload=function(){return r()},p.displayName="LoadableComponent",s.default.forwardRef(p)}(f,e)}function m(e,t){for(var r=[];e.length;){var n=e.pop();r.push(n(t))}return Promise.all(r).then((function(){if(e.length)return m(e,t)}))}p.preloadAll=function(){return new Promise((function(e,t){m(u).then(e,t)}))},p.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var r=function(){return d=!0,t()};m(c,e).then(r,r)}))},window.__NEXT_PRELOADREADY=p.preloadReady;var v=p;t.default=v},9655:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var n=r(5893),a=r(7294),l=r(8871),s=r(7252),i=r(5245),o=r(7568),u=r(4924),c=r(6042),d=r(9396),f=r(828),h=r(655),p=r(7074),m=r(6968),v=r(2286),x=r(9669),g=r.n(x),_=r(6501),j=r(1664),y=r.n(j),b=r(279),N=r(7105),P=r(7994),Z=r.n(P),w=r(5152),k=r.n(w)()((function(){return Promise.all([r.e(2937),r.e(9584),r.e(6150)]).then(r.bind(r,1881))}),{loadableGenerated:{webpack:function(){return[1881]}},ssr:!1,loading:function(){return null}}),C={title:"",price:"",img_url:"",short_description:"",long_description:"",additional_info:"",sku:"",availability:"",category:"",tag:""},M=function(){var e=(0,v.parseCookies)().luan_token,t=(0,f.Z)(a.useState(C),2),r=t[0],l=t[1],s=(0,f.Z)(a.useState(!0),2),i=s[0],x=s[1],j=(0,f.Z)(a.useState(!1),2),P=j[0],w=j[1],M=(0,f.Z)(a.useState(""),2),T=M[0],S=M[1],O=(0,f.Z)(a.useState(""),2),E=(O[0],O[1]);a.useEffect((function(){var e=Object.values(r).every((function(e){return Boolean(e)}));x(!e)}),[r]);var D=function(e){var t=e.target,r=t.name,n=t.value,a=t.files;if("media"===r){if(a[0].size/860/1090>2)return _.Am.error("The file size greater than 2 MB. Make sure less than 2 MB."),void(e.target.value=null);l((function(e){return(0,d.Z)((0,c.Z)({},e),{img_url:a[0]})})),E(window.URL.createObjectURL(a[0]))}else l((function(e){return(0,d.Z)((0,c.Z)({},e),(0,u.Z)({},r,n))}))},L=function(){var e=(0,o.Z)((function(){var e,t;return(0,h.__generator)(this,(function(n){switch(n.label){case 0:return(e=new FormData).append("file",r.img_url),e.append("upload_preset","..."),e.append("cloudinary_name","..."),[4,g().post("...",e)];case 1:return t=n.sent(),[2,t.data.url]}}))}));return function(){return e.apply(this,arguments)}}(),A=function(){var t=(0,o.Z)((function(t){var n,a,s,i,o,u,c,d,f,p,m,v,x,j,y,P;return(0,h.__generator)(this,(function(h){switch(h.label){case 0:t.preventDefault(),h.label=1;case 1:return h.trys.push([1,5,6,7]),w(!0),S(""),n="",r.img_url?[4,L()]:[3,3];case 2:a=h.sent(),n=a.replace(/^http:\/\//i,"https://"),h.label=3;case 3:return s="".concat(N.Z,"/api/v1/products/create"),i=r.title,o=r.price,u=r.short_description,c=r.long_description,d=r.additional_info,f=r.sku,p=r.availability,m=r.category,v=r.tag,(j={}).title=i,j.price=o,j.short_description=u,j.long_description=c,j.additional_info=d,j.sku=f,j.mediaUrl=n,j.availability=p,j.category=m,j.tag=v,x=j,y={},[4,g().post(s,x,(y.headers={Authorization:e},y))];case 4:return h.sent(),w(!1),l(C),_.Am.success("Product created successfully."),setSuccess(!0),[3,7];case 5:return P=h.sent(),(0,b.Z)(P,S),[3,7];case 6:return w(!1),[7];case 7:return[2]}}))}));return function(e){return t.apply(this,arguments)}}();return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"register-form",children:[(0,n.jsx)(p.Z,{variant:"danger",show:!!T,onClose:function(){return S(!1)},dismissible:!0,children:T}),(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col text-end",children:(0,n.jsx)(y(),{href:"/admin/dashboard/",children:(0,n.jsx)("a",{className:"btn btn-dark btn-sm",children:"See All Products"})})})}),(0,n.jsxs)("form",{onSubmit:A,children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["Product Name ",(0,n.jsx)("span",{className:"red",title:"Must fillup the field",children:"*"})]}),(0,n.jsx)("input",{type:"text",className:"form-control",placeholder:"Product Name",name:"title",value:r.title,onChange:D})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["Product Short Description ",(0,n.jsx)("span",{className:"red",title:"Must fillup the field",children:"*"})]}),(0,n.jsx)("textarea",{type:"text",className:"form-control",placeholder:"Type here...",name:"short_description",value:r.short_description,onChange:D,rows:"4"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["Price ",(0,n.jsx)("span",{className:"red",title:"Must fillup the field",children:"*"})]}),(0,n.jsx)("input",{className:"form-control",placeholder:"100.00",name:"price",type:"number",value:r.price,onChange:D})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-lg-6",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["Status ",(0,n.jsx)("span",{className:"red",title:"Must fillup the field",children:"*"})]}),(0,n.jsx)("input",{className:"form-control",placeholder:"In Stock",name:"availability",type:"text",value:r.availability,onChange:D})]})}),(0,n.jsx)("div",{className:"col-lg-6",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["SKU ",(0,n.jsx)("span",{className:"red",title:"Must fillup the field",children:"*"})]}),(0,n.jsx)("input",{className:"form-control",placeholder:"SKU",name:"sku",type:"text",value:r.sku,onChange:D})]})}),(0,n.jsx)("div",{className:"col-lg-6",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["Product Category ",(0,n.jsx)("span",{className:"red",title:"Must fillup the field",children:"*"})]}),(0,n.jsx)("input",{type:"text",className:"form-control",placeholder:"Category",name:"category",value:r.category,onChange:D})]})}),(0,n.jsx)("div",{className:"col-lg-6",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["Product Tag ",(0,n.jsx)("span",{className:"red",title:"Must fillup the field",children:"*"})]}),(0,n.jsx)("input",{type:"text",className:"form-control",placeholder:"Product Tag",name:"tag",value:r.tag,onChange:D})]})})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-lg-6",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["Full Details of The Product ",(0,n.jsx)("span",{className:"red",title:"Must fillup the field",children:"*"})]}),(0,n.jsx)(k,{controls:Z(),value:r.long_description,onChange:function(e){return l((function(t){return(0,d.Z)((0,c.Z)({},t),{long_description:e})}))}})]})}),(0,n.jsx)("div",{className:"col-lg-6",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["Additional Information ",(0,n.jsx)("span",{className:"red",title:"Must fillup the field",children:"*"})]}),(0,n.jsx)(k,{controls:Z(),value:r.additional_info,onChange:function(e){return l((function(t){return(0,d.Z)((0,c.Z)({},t),{additional_info:e})}))}})]})})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsxs)("label",{children:["Product Image ",(0,n.jsx)("span",{className:"red",title:"Must fillup the field",children:"*"})]}),(0,n.jsx)("input",{type:"file",name:"media",onChange:D}),(0,n.jsx)("small",{className:"text-muted mt-2 d-block",children:"Recommend image size 860x1090!"})]}),(0,n.jsxs)("button",{type:"submit",className:"default-btn",disabled:i,children:["Create Product "," ",P?(0,n.jsx)(m.Z,{color:"success"}):""]})]})]})})},T=function(e){var t=e.user;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{user:t}),(0,n.jsx)(s.Z,{pageTitle:"Create Product",homePageUrl:"/",homePageText:"Home",activePageText:"Create Product"}),(0,n.jsx)("div",{className:"profile-authentication-area ptb-100",children:(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-lg-12 col-md-12",children:(0,n.jsx)(M,{})})})})}),(0,n.jsx)(i.Z,{})]})}},7994:function(e){"use strict";e.exports=[["bold","italic","underline"],["h1","h2","h3","h4","h5"],["unorderedList","orderedList"],["link","video"],["code","sup","sub"],["alignLeft","alignCenter","alignRight"]]},279:function(e,t){"use strict";t.Z=function(e,t){var r;e.response?(r=e.response.data,e.response.data.error&&(r=e.response.data.error.message)):e.request&&(r=e.request),t(r)}},5152:function(e,t,r){e.exports=r(638)}},function(e){e.O(0,[162,7671,7074,2244,9774,2888,179],(function(){return t=5266,e(e.s=t);var t}));var t=e.O();_N_E=t}]);